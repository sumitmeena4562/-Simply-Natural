<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Data Fetch</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f4f4f4;
    }

    #container {
      height: 80%;
      width: 70%;
      border: 1px solid rgba(0, 0, 0, 0.082);
      box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.281);
      border-radius: 1rem;
      overflow: hidden;
      background: white;
    }

    #navbar {
      display: flex;
      justify-content: space-evenly;
      padding: 0.5rem;
      background: rgba(137, 43, 226, 0.897);
      border-radius: 1rem 1rem 0 0;
    }

    #navbar a {
      color: white;
      text-decoration: none;
      padding: 0.6rem;
      border: 1px solid rgba(255, 255, 255, 0.281);
      border-radius: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }

    #navbar a:hover {
      background: blueviolet;
      box-shadow: 0px 2px 3px;
    }

    #navbar a.active {
      background: rgb(226, 141, 43);
    }

    .tab {
      display: none;
      height: 90%;
      overflow-y: auto;
      padding: 1rem;
    }

    ul {
      list-style: none;
    }

    li {
      background: white;
      color: black;
      padding: 0.5rem;
      border-radius: 0.5rem;
      margin: 5px 0;
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    li img {
      border-radius: 50%;
    }

    .user-info a {
      font-weight: bold;
      color: blueviolet;
      text-decoration: none;
    }

    .user-info a:hover {
      text-decoration: underline;
    }

    .news-item {
      background: #fff;
      border-radius: 0.5rem;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin-bottom: 1rem;
      padding: 1rem;
      display: flex;
      gap: 10px;
    }

    .news-item img {
      width: 120px;
      height: 80px;
      border-radius: 5px;
      object-fit: cover;
    }

    .news-content h3 {
      color: blueviolet;
      margin-bottom: 0.3rem;
    }

    .news-content a {
      text-decoration: none;
      color: blueviolet;
    }

    .news-content a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <div id="container">
    <nav id="navbar">
      <a class="active" onclick="showTab(event, 'github')">GitHub Users</a>
      <a onclick="showTab(event, 'news')">News</a>
    </nav>

    <div id="github-container" class="tab" style="display: block;">
      <h2>GitHub Users</h2>
      <ul id="users-list"></ul>
    </div>

    <div id="news-container" class="tab">
      <h2>Latest News Headlines</h2>
      <div id="news-list"></div>
    </div>
  </div>

  <script>
    function showTab(event, tabName) {
      document.querySelectorAll(".tab").forEach(tab => tab.style.display = "none");
      document.querySelectorAll("#navbar a").forEach(link => link.classList.remove("active"));

      document.getElementById(`${tabName}-container`).style.display = "block";
      event.target.classList.add("active");

      if (tabName === "github") loadGithubUsers();
      if (tabName === "news") loadNews();
    }

    async function loadGithubUsers() {
      const list = document.getElementById("users-list");
      list.innerHTML = "<p>Loading...</p>";

      try {
        const res = await fetch("https://api.github.com/users");
        const users = await res.json();

        list.innerHTML = "";
        users.forEach(user => {
          const li = document.createElement("li");
          li.innerHTML = `
            <img src="${user.avatar_url}" width="50" height="50">
            <div class="user-info">
              <a href="${user.html_url}" target="_blank">${user.login}</a><br>
              <span>ID: ${user.id}</span>
            </div>
          `;
          list.appendChild(li);
        });
      } catch (error) {
        list.innerHTML = "<p style='color:red;'>Error loading users!</p>";
      }
    }

    async function loadNews() {
      const newsList = document.getElementById("news-list");
      newsList.innerHTML = "<p>Loading News...</p>";

      const apiKey = "eb2069e3b37a4560ac121b178607b1b4"; // Replace with your NewsAPI key
      const url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=${apiKey}`;

      try {
        const res = await fetch(url);
        const data = await res.json();

        if (data.status !== "ok") {
          newsList.innerHTML = "<p style='color:red;'>Unable to load news.</p>";
          return;
        }

        newsList.innerHTML = "";
        data.articles.forEach(article => {
          const div = document.createElement("div");
          div.classList.add("news-item");
          div.innerHTML = `
            <img src="${article.urlToImage || 'https://via.placeholder.com/120x80'}" alt="">
            <div class="news-content">
              <h3>${article.title}</h3>
              <p>${article.description || "No description available."}</p>
              <a href="${article.url}" target="_blank">Read more</a>
            </div>
          `;
          newsList.appendChild(div);
        });
      } catch (error) {
        newsList.innerHTML = "<p style='color:red;'>Error loading news!</p>";
        console.error("News Fetch Error:", error);
      }
    }

    loadGithubUsers();
  </script>
</body>

</html>
